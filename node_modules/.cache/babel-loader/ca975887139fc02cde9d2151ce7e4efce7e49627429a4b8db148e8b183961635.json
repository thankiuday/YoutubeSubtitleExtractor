{"ast":null,"code":"var _jsxFileName = \"D:\\\\YoutubeSubtitleExtractor\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PROXY_URL = 'http://localhost:3001';\nconst MAX_RETRIES = 3;\nconst RETRY_DELAY = 500;\nconst languages = [{\n  code: 'en',\n  name: 'English',\n  available: true\n}, {\n  code: 'hi',\n  name: 'Hindi',\n  available: true\n}, {\n  code: 'es',\n  name: 'Spanish',\n  available: true\n}, {\n  code: 'fr',\n  name: 'French',\n  available: true\n}, {\n  code: 'de',\n  name: 'German',\n  available: true\n}, {\n  code: 'it',\n  name: 'Italian',\n  available: true\n}, {\n  code: 'pt',\n  name: 'Portuguese',\n  available: true\n}, {\n  code: 'ru',\n  name: 'Russian',\n  available: true\n}, {\n  code: 'ja',\n  name: 'Japanese',\n  available: true\n}, {\n  code: 'ko',\n  name: 'Korean',\n  available: true\n}, {\n  code: 'zh',\n  name: 'Chinese',\n  available: true\n}];\nfunction App() {\n  _s();\n  const [url, setUrl] = useState('');\n  const [videoId, setVideoId] = useState('');\n  const [selectedLanguage, setSelectedLanguage] = useState('en');\n  const [subtitles, setSubtitles] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loadingStatus, setLoadingStatus] = useState('');\n  const [error, setError] = useState('');\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n\n  // Debounced URL input handler\n  const handleUrlChange = useCallback(e => {\n    const newUrl = e.target.value;\n    setUrl(newUrl);\n\n    // Clear previous results when URL changes\n    if (newUrl !== url) {\n      setSubtitles([]);\n      setError('');\n    }\n  }, [url]);\n  const fetchWithRetry = async (url, options = {}, retries = MAX_RETRIES) => {\n    try {\n      const response = await fetch(url, options);\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || getErrorMessage(response.status));\n      }\n      return await response.json();\n    } catch (error) {\n      if (retries > 0) {\n        console.log(`Retrying... ${retries} attempts left`);\n        await new Promise(resolve => setTimeout(resolve, RETRY_DELAY));\n        return fetchWithRetry(url, options, retries - 1);\n      }\n      throw error;\n    }\n  };\n  const getErrorMessage = status => {\n    switch (status) {\n      case 400:\n        return 'Invalid request. Please check your input.';\n      case 404:\n        return 'No captions found for this video. Please try another video.';\n      case 500:\n        return 'Server error. Please try again later.';\n      default:\n        return 'Something went wrong. Please try again.';\n    }\n  };\n  const extractVideoId = url => {\n    const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\n    const match = url.match(regExp);\n    return match && match[2].length === 11 ? match[2] : null;\n  };\n  const fetchSubtitles = async () => {\n    const startTime = performance.now();\n    setLoading(true);\n    setError('');\n    setSubtitles([]);\n    setLoadingStatus('Initializing...');\n    try {\n      const id = extractVideoId(url);\n      if (!id) {\n        throw new Error('Please enter a valid YouTube URL');\n      }\n      setVideoId(id);\n      setLoadingStatus('Validating video...');\n      console.log('Video ID:', id);\n      console.log('Selected language:', selectedLanguage);\n\n      // First check if video exists and get available caption tracks\n      setLoadingStatus('Fetching available caption tracks...');\n      console.log('Fetching caption tracks:', `${PROXY_URL}/api/subtitles/list?videoId=${id}`);\n      const tracksStartTime = performance.now();\n      const tracks = await fetchWithRetry(`${PROXY_URL}/api/subtitles/list?videoId=${id}`);\n      const tracksEndTime = performance.now();\n      console.log(`Caption tracks fetch took: ${(tracksEndTime - tracksStartTime).toFixed(2)}ms`);\n      console.log('Available tracks:', tracks);\n      if (!tracks || tracks.length === 0) {\n        throw new Error('No captions available for this video. Please try another video.');\n      }\n\n      // Find the selected language track\n      let track = tracks.find(t => t.languageCode === selectedLanguage);\n\n      // If selected language is not available, use the first available track\n      if (!track && tracks.length > 0) {\n        track = tracks[0];\n        setSelectedLanguage(track.languageCode);\n        console.log(`Selected language not available. Using ${track.name} instead.`);\n      }\n      if (!track) {\n        throw new Error('No captions available for this video. Please try another video.');\n      }\n      setLoadingStatus(`Fetching ${track.name} subtitles...`);\n      console.log('Fetching subtitles for track:', track);\n\n      // Fetch the actual subtitles\n      const subtitlesStartTime = performance.now();\n      const response = await fetchWithRetry(`${PROXY_URL}/api/subtitles/fetch?videoId=${id}&trackId=${track.languageCode}`);\n      const subtitlesEndTime = performance.now();\n      console.log(`Subtitles fetch took: ${(subtitlesEndTime - subtitlesStartTime).toFixed(2)}ms`);\n      console.log('Received subtitles data:', response);\n      if (!response.subtitles || response.subtitles.length === 0) {\n        throw new Error('No subtitle content found. Please try another video.');\n      }\n      setLoadingStatus('Processing subtitles...');\n      setSubtitles(response.subtitles);\n      const endTime = performance.now();\n      console.log(`Total extraction time: ${(endTime - startTime).toFixed(2)}ms`);\n      setLoadingStatus('Complete!');\n    } catch (error) {\n      console.error('Error:', error);\n      setError(error.message);\n      setLoadingStatus('Error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const downloadSubtitles = () => {\n    if (subtitles.length === 0) return;\n\n    // Create text content from subtitles\n    const textContent = subtitles.map(subtitle => subtitle.text).join('\\n\\n');\n\n    // Create a blob with the text content\n    const blob = new Blob([textContent], {\n      type: 'text/plain;charset=utf-8'\n    });\n\n    // Create a download link\n    const url = window.URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n\n    // Set the filename using video ID and language\n    const filename = `subtitles_${videoId}_${selectedLanguage}.txt`;\n    link.setAttribute('download', filename);\n\n    // Trigger the download\n    document.body.appendChild(link);\n    link.click();\n\n    // Cleanup\n    document.body.removeChild(link);\n    window.URL.revokeObjectURL(url);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 \",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"bg-white shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between h-16\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xl font-extrabold text-blue-600\",\n              children: \"YouTube Subtitle Extractor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hidden md:flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-bold\",\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-bold\",\n              children: \"About Us\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-bold\",\n              children: \"Contact Us\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:hidden flex items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setIsMenuOpen(!isMenuOpen),\n              className: \"inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-blue-600 focus:outline-none\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-6 w-6\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: isMenuOpen ? /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M6 18L18 6M6 6l12 12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M4 6h16M4 12h16M4 18h16\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), isMenuOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"md:hidden\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-2 pt-2 pb-3 space-y-1 sm:px-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            className: \"block text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-base font-bold\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            className: \"block text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-base font-bold\",\n            children: \"About Us\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            className: \"block text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-base font-bold\",\n            children: \"Contact Us\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-6 flex flex-col justify-center sm:py-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative py-3 w-11/12 max-w-5xl mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative px-4 py-10 bg-white shadow-lg sm:rounded-3xl sm:p-20\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full max-w-5xl mx-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"divide-y divide-gray-200\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"py-8 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7\",\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"text-3xl font-extrabold text-center mb-8 text-blue-600\",\n                  children: \"Extract Subtitles\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: url,\n                    onChange: handleUrlChange,\n                    placeholder: \"Enter YouTube URL\",\n                    className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-bold\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: selectedLanguage,\n                    onChange: e => setSelectedLanguage(e.target.value),\n                    className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-bold\",\n                    children: languages.map(lang => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: lang.code,\n                      disabled: !lang.available,\n                      className: !lang.available ? 'text-gray-400' : '',\n                      children: lang.name\n                    }, lang.code, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 261,\n                      columnNumber: 25\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: fetchSubtitles,\n                  disabled: loading || !url,\n                  className: `w-full py-2 px-4 rounded-lg text-white font-extrabold ${loading || !url ? 'bg-gray-400 cursor-not-allowed' : 'bg-blue-500 hover:bg-blue-600'}`,\n                  children: loading ? 'Loading...' : 'Extract Subtitles'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 19\n                }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-4 p-4 bg-blue-50 rounded-lg\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 288,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-blue-700 font-bold\",\n                      children: loadingStatus\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 21\n                }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-4 p-4 bg-red-100 text-red-700 rounded-lg font-bold\",\n                  children: error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 21\n                }, this), subtitles.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-8\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-center mb-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                      className: \"text-xl font-extrabold\",\n                      children: \"Subtitles:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 303,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: downloadSubtitles,\n                      className: \"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors duration-200 flex items-center space-x-2 font-bold\",\n                      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        className: \"h-5 w-5\",\n                        viewBox: \"0 0 20 20\",\n                        fill: \"currentColor\",\n                        children: /*#__PURE__*/_jsxDEV(\"path\", {\n                          fillRule: \"evenodd\",\n                          d: \"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z\",\n                          clipRule: \"evenodd\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 309,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 308,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Download\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 311,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 304,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-gray-50 p-4 rounded-lg max-h-96 overflow-y-auto\",\n                    children: subtitles.map((subtitle, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"mb-2 font-bold\",\n                      children: subtitle.text\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 316,\n                      columnNumber: 27\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 183,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"eeu/+0Hsa6Vdx1Vp36lcQBKvkLk=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useCallback","jsxDEV","_jsxDEV","PROXY_URL","MAX_RETRIES","RETRY_DELAY","languages","code","name","available","App","_s","url","setUrl","videoId","setVideoId","selectedLanguage","setSelectedLanguage","subtitles","setSubtitles","loading","setLoading","loadingStatus","setLoadingStatus","error","setError","isMenuOpen","setIsMenuOpen","handleUrlChange","e","newUrl","target","value","fetchWithRetry","options","retries","response","fetch","ok","errorData","json","Error","getErrorMessage","status","console","log","Promise","resolve","setTimeout","extractVideoId","regExp","match","length","fetchSubtitles","startTime","performance","now","id","tracksStartTime","tracks","tracksEndTime","toFixed","track","find","t","languageCode","subtitlesStartTime","subtitlesEndTime","endTime","message","downloadSubtitles","textContent","map","subtitle","text","join","blob","Blob","type","window","URL","createObjectURL","link","document","createElement","href","filename","setAttribute","body","appendChild","click","removeChild","revokeObjectURL","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","onChange","placeholder","lang","disabled","fillRule","clipRule","index","_c","$RefreshReg$"],"sources":["D:/YoutubeSubtitleExtractor/src/App.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\r\nimport './App.css';\r\n\r\nconst PROXY_URL = 'http://localhost:3001';\r\nconst MAX_RETRIES = 3;\r\nconst RETRY_DELAY = 500;\r\n\r\nconst languages = [\r\n  { code: 'en', name: 'English', available: true },\r\n  { code: 'hi', name: 'Hindi', available: true },\r\n  { code: 'es', name: 'Spanish', available: true },\r\n  { code: 'fr', name: 'French', available: true },\r\n  { code: 'de', name: 'German', available: true },\r\n  { code: 'it', name: 'Italian', available: true },\r\n  { code: 'pt', name: 'Portuguese', available: true },\r\n  { code: 'ru', name: 'Russian', available: true },\r\n  { code: 'ja', name: 'Japanese', available: true },\r\n  { code: 'ko', name: 'Korean', available: true },\r\n  { code: 'zh', name: 'Chinese', available: true }\r\n];\r\n\r\nfunction App() {\r\n  const [url, setUrl] = useState('');\r\n  const [videoId, setVideoId] = useState('');\r\n  const [selectedLanguage, setSelectedLanguage] = useState('en');\r\n  const [subtitles, setSubtitles] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingStatus, setLoadingStatus] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n\r\n  // Debounced URL input handler\r\n  const handleUrlChange = useCallback((e) => {\r\n    const newUrl = e.target.value;\r\n    setUrl(newUrl);\r\n    \r\n    // Clear previous results when URL changes\r\n    if (newUrl !== url) {\r\n      setSubtitles([]);\r\n      setError('');\r\n    }\r\n  }, [url]);\r\n\r\n  const fetchWithRetry = async (url, options = {}, retries = MAX_RETRIES) => {\r\n    try {\r\n      const response = await fetch(url, options);\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || getErrorMessage(response.status));\r\n      }\r\n      return await response.json();\r\n    } catch (error) {\r\n      if (retries > 0) {\r\n        console.log(`Retrying... ${retries} attempts left`);\r\n        await new Promise(resolve => setTimeout(resolve, RETRY_DELAY));\r\n        return fetchWithRetry(url, options, retries - 1);\r\n      }\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const getErrorMessage = (status) => {\r\n    switch (status) {\r\n      case 400:\r\n        return 'Invalid request. Please check your input.';\r\n      case 404:\r\n        return 'No captions found for this video. Please try another video.';\r\n      case 500:\r\n        return 'Server error. Please try again later.';\r\n      default:\r\n        return 'Something went wrong. Please try again.';\r\n    }\r\n  };\r\n\r\n  const extractVideoId = (url) => {\r\n    const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\r\n    const match = url.match(regExp);\r\n    return (match && match[2].length === 11) ? match[2] : null;\r\n  };\r\n\r\n  const fetchSubtitles = async () => {\r\n    const startTime = performance.now();\r\n    setLoading(true);\r\n    setError('');\r\n    setSubtitles([]);\r\n    setLoadingStatus('Initializing...');\r\n\r\n    try {\r\n      const id = extractVideoId(url);\r\n      if (!id) {\r\n        throw new Error('Please enter a valid YouTube URL');\r\n      }\r\n      setVideoId(id);\r\n      setLoadingStatus('Validating video...');\r\n      console.log('Video ID:', id);\r\n      console.log('Selected language:', selectedLanguage);\r\n\r\n      // First check if video exists and get available caption tracks\r\n      setLoadingStatus('Fetching available caption tracks...');\r\n      console.log('Fetching caption tracks:', `${PROXY_URL}/api/subtitles/list?videoId=${id}`);\r\n      const tracksStartTime = performance.now();\r\n      const tracks = await fetchWithRetry(`${PROXY_URL}/api/subtitles/list?videoId=${id}`);\r\n      const tracksEndTime = performance.now();\r\n      console.log(`Caption tracks fetch took: ${(tracksEndTime - tracksStartTime).toFixed(2)}ms`);\r\n      console.log('Available tracks:', tracks);\r\n\r\n      if (!tracks || tracks.length === 0) {\r\n        throw new Error('No captions available for this video. Please try another video.');\r\n      }\r\n\r\n      // Find the selected language track\r\n      let track = tracks.find(t => t.languageCode === selectedLanguage);\r\n      \r\n      // If selected language is not available, use the first available track\r\n      if (!track && tracks.length > 0) {\r\n        track = tracks[0];\r\n        setSelectedLanguage(track.languageCode);\r\n        console.log(`Selected language not available. Using ${track.name} instead.`);\r\n      }\r\n\r\n      if (!track) {\r\n        throw new Error('No captions available for this video. Please try another video.');\r\n      }\r\n\r\n      setLoadingStatus(`Fetching ${track.name} subtitles...`);\r\n      console.log('Fetching subtitles for track:', track);\r\n\r\n      // Fetch the actual subtitles\r\n      const subtitlesStartTime = performance.now();\r\n      const response = await fetchWithRetry(\r\n        `${PROXY_URL}/api/subtitles/fetch?videoId=${id}&trackId=${track.languageCode}`\r\n      );\r\n      const subtitlesEndTime = performance.now();\r\n      console.log(`Subtitles fetch took: ${(subtitlesEndTime - subtitlesStartTime).toFixed(2)}ms`);\r\n      console.log('Received subtitles data:', response);\r\n\r\n      if (!response.subtitles || response.subtitles.length === 0) {\r\n        throw new Error('No subtitle content found. Please try another video.');\r\n      }\r\n\r\n      setLoadingStatus('Processing subtitles...');\r\n      setSubtitles(response.subtitles);\r\n      const endTime = performance.now();\r\n      console.log(`Total extraction time: ${(endTime - startTime).toFixed(2)}ms`);\r\n      setLoadingStatus('Complete!');\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      setError(error.message);\r\n      setLoadingStatus('Error occurred');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const downloadSubtitles = () => {\r\n    if (subtitles.length === 0) return;\r\n\r\n    // Create text content from subtitles\r\n    const textContent = subtitles.map(subtitle => subtitle.text).join('\\n\\n');\r\n\r\n    // Create a blob with the text content\r\n    const blob = new Blob([textContent], { type: 'text/plain;charset=utf-8' });\r\n\r\n    // Create a download link\r\n    const url = window.URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    \r\n    // Set the filename using video ID and language\r\n    const filename = `subtitles_${videoId}_${selectedLanguage}.txt`;\r\n    link.setAttribute('download', filename);\r\n    \r\n    // Trigger the download\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    \r\n    // Cleanup\r\n    document.body.removeChild(link);\r\n    window.URL.revokeObjectURL(url);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 \">\r\n      {/* Navigation Bar */}\r\n      <nav className=\"bg-white shadow-lg\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between h-16\">\r\n            <div className=\"flex items-center\">\r\n              <span className=\"text-xl font-extrabold text-blue-600\">YouTube Subtitle Extractor</span>\r\n            </div>\r\n            \r\n            {/* Desktop Navigation */}\r\n            <div className=\"hidden md:flex items-center space-x-4\">\r\n              <a href=\"#\" className=\"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-bold\">Home</a>\r\n              <a href=\"#\" className=\"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-bold\">About Us</a>\r\n              <a href=\"#\" className=\"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-bold\">Contact Us</a>\r\n            </div>\r\n\r\n            {/* Mobile menu button */}\r\n            <div className=\"md:hidden flex items-center\">\r\n              <button\r\n                onClick={() => setIsMenuOpen(!isMenuOpen)}\r\n                className=\"inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-blue-600 focus:outline-none\"\r\n              >\r\n                <svg\r\n                  className=\"h-6 w-6\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke=\"currentColor\"\r\n                >\r\n                  {isMenuOpen ? (\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                  ) : (\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\r\n                  )}\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mobile Navigation Menu */}\r\n        {isMenuOpen && (\r\n          <div className=\"md:hidden\">\r\n            <div className=\"px-2 pt-2 pb-3 space-y-1 sm:px-3\">\r\n              <a href=\"#\" className=\"block text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-base font-bold\">Home</a>\r\n              <a href=\"#\" className=\"block text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-base font-bold\">About Us</a>\r\n              <a href=\"#\" className=\"block text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-base font-bold\">Contact Us</a>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </nav>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"py-6 flex flex-col justify-center sm:py-12\">\r\n        <div className=\"relative py-3 w-11/12 max-w-5xl mx-auto\">\r\n          <div className=\"relative px-4 py-10 bg-white shadow-lg sm:rounded-3xl sm:p-20\">\r\n            <div className=\"w-full max-w-5xl mx-auto\">\r\n              <div className=\"divide-y divide-gray-200\">\r\n                <div className=\"py-8 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7\">\r\n                  <h1 className=\"text-3xl font-extrabold text-center mb-8 text-blue-600\">Extract Subtitles</h1>\r\n                  \r\n                  <div className=\"mb-4\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={url}\r\n                      onChange={handleUrlChange}\r\n                      placeholder=\"Enter YouTube URL\"\r\n                      className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-bold\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"mb-4\">\r\n                    <select\r\n                      value={selectedLanguage}\r\n                      onChange={(e) => setSelectedLanguage(e.target.value)}\r\n                      className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-bold\"\r\n                    >\r\n                      {languages.map(lang => (\r\n                        <option \r\n                          key={lang.code} \r\n                          value={lang.code}\r\n                          disabled={!lang.available}\r\n                          className={!lang.available ? 'text-gray-400' : ''}\r\n                        >\r\n                          {lang.name}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  <button\r\n                    onClick={fetchSubtitles}\r\n                    disabled={loading || !url}\r\n                    className={`w-full py-2 px-4 rounded-lg text-white font-extrabold ${\r\n                      loading || !url\r\n                        ? 'bg-gray-400 cursor-not-allowed'\r\n                        : 'bg-blue-500 hover:bg-blue-600'\r\n                    }`}\r\n                  >\r\n                    {loading ? 'Loading...' : 'Extract Subtitles'}\r\n                  </button>\r\n\r\n                  {loading && (\r\n                    <div className=\"mt-4 p-4 bg-blue-50 rounded-lg\">\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"></div>\r\n                        <span className=\"text-blue-700 font-bold\">{loadingStatus}</span>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {error && (\r\n                    <div className=\"mt-4 p-4 bg-red-100 text-red-700 rounded-lg font-bold\">\r\n                      {error}\r\n                    </div>\r\n                  )}\r\n\r\n                  {subtitles.length > 0 && (\r\n                    <div className=\"mt-8\">\r\n                      <div className=\"flex justify-between items-center mb-4\">\r\n                        <h2 className=\"text-xl font-extrabold\">Subtitles:</h2>\r\n                        <button\r\n                          onClick={downloadSubtitles}\r\n                          className=\"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors duration-200 flex items-center space-x-2 font-bold\"\r\n                        >\r\n                          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                            <path fillRule=\"evenodd\" d=\"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                          </svg>\r\n                          <span>Download</span>\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"bg-gray-50 p-4 rounded-lg max-h-96 overflow-y-auto\">\r\n                        {subtitles.map((subtitle, index) => (\r\n                          <p key={index} className=\"mb-2 font-bold\">\r\n                            {subtitle.text}\r\n                          </p>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}